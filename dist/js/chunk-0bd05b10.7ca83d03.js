(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bd05b10"],{"41a9":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g-page",[a("div",{staticClass:"resource geye-100",attrs:{flex:""}},[a("div",{staticClass:"splitter geye-pr-10",attrs:{"flex-box":"0"}},[a("el-tree",{attrs:{data:e.treeData,props:e.defaultProps,"render-content":e.renderContent},on:{"node-click":e.handleNodeClick}})],1),a("div",{staticClass:"form",attrs:{"flex-box":"1"}},[e.showForm?e._e():a("div",{staticClass:"action-card",on:{click:e.addDictionary}},[a("span",[e._v("添加翻译")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],staticClass:"geye-p-10"},[a("g-form",{ref:"form",attrs:{rules:e.rules,row:e.row,model:e.form}}),a("g-button",{attrs:{buttonType:"save"},on:{click:e.save}}),e.form.pid?e._e():a("g-button",{attrs:{text:"重置"},on:{click:e.reset}}),a("g-button",{attrs:{text:"关闭"},on:{click:function(t){e.showForm=!1}}})],1)])])])},n=[],r=a("d4ec"),i=a("bee2"),s=a("262e"),l=a("2caf"),c=a("9ab4"),d=a("60a3"),h=a("2ef0"),u=a.n(h),p=function(e){Object(s["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.treeData=[],e.defaultProps={children:"children",label:"value"},e.showForm=!0,e.rules={},e.form={pid:0},e.selectIsDisabled=!1,e.type="category",e}return Object(i["a"])(a,[{key:"handleNodeClick",value:function(e){return e}},{key:"created",value:function(){this.loadDictionary()}},{key:"loadDictionary",value:function(){var e=this;this.$api("queryDictionary",this.form).then((function(t){e.$api("dataOrder",{data:t.result.list,key:"sequence"}).then((function(t){e.$api("ArrayToHierarchy",t).then((function(t){e.treeData=t}))}))}))}},{key:"addDictionary",value:function(e){this.showForm=!0,this.reset(),e&&(this.form.pid=e)}},{key:"reset",value:function(){this.form={name:"",path:"",code:"",parentName:""}}},{key:"handleEdit",value:function(e,t){this.showForm=!0,this.selectIsDisabled=!1,this.form=u.a.cloneDeep(t),this.type=t.category,e.stopPropagation()}},{key:"handleAdd",value:function(e,t){this.addDictionary(t.id),this.form.parentName=t.value,e.stopPropagation()}},{key:"handleRemove",value:function(e,t){var a=this;e.stopPropagation(),this.$api("delDictionary",{id:[t.id]}).then((function(e){"200"===e.code&&(a.$message.success(e.message),a.reset(),a.loadDictionary(),a.showForm=!1)}))}},{key:"renderContent",value:function(e,t){var a=this,o=t.node,n=t.data;return e("div",{class:"custom-tree-node geye-100",attrs:{flex:!0}},[e("div",{attrs:{"flex-box":"0",title:o.label},class:"tree-node-label"},[o.label]),e("div",{attrs:{"flex-box":"1",flex:"main:right"}},[e("el-tooltip",{attrs:{content:"添加子节点",placement:"top",effect:"light",openDelay:300}},[e("g-icon",{attrs:{name:"RectangleCopy20",size:"18"},on:{press:function(e){return a.handleAdd(e,n)}}})]),e("el-tooltip",{attrs:{content:"编辑",placement:"top",effect:"light",openDelay:300}},[e("g-icon",{attrs:{name:"md-color-filter",size:"18"},on:{press:function(e){return a.handleEdit(e,n)}}})]),e("el-tooltip",{attrs:{content:"删除",placement:"top",effect:"light",openDelay:300},directives:[{name:"show",value:!n.children||0===n.children.length}]},[e("g-icon",{attrs:{name:"Rectangle",size:"18"},on:{press:function(e){return a.handleRemove(e,n)}}})])])])}},{key:"save",value:function(){var e=this;this.$api("addDictionarys",this.form).then((function(t){"200"===t.code&&(e.$message.success(t.message),e.reset(),e.loadDictionary(),e.showForm=!1)}))}},{key:"row",get:function(){return this.form.pid&&this.form.parentName?[{label:this.$t("父级名称"),prop:"parentName",disabled:"disabled"},{label:this.$t("code"),prop:"code",placeholder:this.$t("要翻译的内容")},{label:this.$t("值"),prop:"value",placeholder:this.$t("翻译后的内容")}]:[{label:this.$t("code"),prop:"code",placeholder:this.$t("要翻译的内容")},{label:this.$t("值"),prop:"value",placeholder:this.$t("翻译后的内容")}]}}]),a}(d["f"]);p=Object(c["a"])([d["a"]],p);var f=p,m=f,v=(a("907b"),a("2877")),y=Object(v["a"])(m,o,n,!1,null,"2a440aba",null);t["default"]=y.exports},"907b":function(e,t,a){"use strict";var o=a("9832"),n=a.n(o);n.a},9832:function(e,t,a){}}]);